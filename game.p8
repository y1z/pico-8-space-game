pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include vec2.p8:1
-- entity data
edata={
	h,
	s,
}

--f=false
--tr=true

xspd=0
yspd=0

function start()
	player.h=3
	player.s=1
	player.sp=127*0.8
	-- current time
	ct=0
	-- last time
	lt=ct
end

function _init()
	start()
end

function _update60()
	ct=t()
	-- delta time
	dt=ct-lt
	local sp=player.sp
	if btn(⬅️) do xspd=-sp*dt end
	if btn(➡️) do xspd=sp*dt end
	if btn(⬆️) do yspd=-sp*dt end
	if btn(⬇️) do yspd=sp*dt end
	
	player.p.x+=xspd
	player.p.y+=yspd
	xspd=0
	yspd=0
	lt=ct
end

function _draw()
	cls()
	local p=player.p
	spr(player.s,p.x,p.y)
	
end


-->8
-- player
player={
 h,
 s,
 p=vec2:new(),
 sp,
}
-->8
-- utility
-- generic new function
function gennew(ltbl,rtbl)
	rtbl=rtbl or {}
	setmetatable(ltbl,{
		__index=ltbl
})
return rtbl
end
__gfx__
00000000000000008555555800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000859958000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000089980000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700006cc6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000006c88c600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666cc6660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000121212101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1212001010101210101012120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000101210121210101010121200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0004101010101010100310101200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040410101010120310100300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040410041010030304030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000004101003030301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
